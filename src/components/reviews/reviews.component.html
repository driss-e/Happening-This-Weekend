<div class="bg-white min-h-full">
  <header class="sticky top-0 bg-white/80 backdrop-blur-sm z-10 p-4 border-b border-gray-200 flex items-center">
    <button (click)="onGoBack()" class="p-2 -ml-2 rounded-full text-gray-700 hover:bg-gray-100">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
    </button>
    <h1 class="text-lg font-bold text-gray-900 ml-4">Reviews for Hiking Trail</h1>
  </header>

  <div class="p-5 space-y-8">
    <section>
      <div class="flex items-center space-x-4">
        <div>
          <p class="text-5xl font-bold text-gray-900">4.5</p>
          <div class="flex mt-1">
            @for(i of [1,2,3,4]; track i){<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>}
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12.78l-4.243 2.585.81-4.72-3.43-3.344 4.74-.69L10 2.25l2.122 4.36.81 4.72-3.43 3.344z" clip-rule="evenodd" /></svg>
          </div>
          <p class="text-sm text-gray-500 mt-1">120 reviews</p>
        </div>
        <div class="flex-grow space-y-1">
          @for(item of [{stars:5, percent:70}, {stars:4, percent:15}, {stars:3, percent:8}, {stars:2, percent:5}, {stars:1, percent:2}]; track item.stars) {
            <div class="flex items-center space-x-2">
              <span class="text-sm font-medium text-gray-600">{{item.stars}}</span>
              <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-yellow-400 h-2 rounded-full" [style.width]="item.percent + '%'"></div></div>
              <span class="text-sm text-gray-500 w-8 text-right">{{item.percent}}%</span>
            </div>
          }
        </div>
      </div>
    </section>

    <section class="border-t border-gray-200 pt-8">
      <h2 class="text-xl font-bold text-gray-900 mb-4">Rate this activity</h2>
      <div class="flex justify-center space-x-2 mb-4" (mouseleave)="setHoverRating(0)">
        @for(i of [1,2,3,4,5]; track i) {
          <button (click)="setRating(i)" (mouseenter)="setHoverRating(i)">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 transition-colors" [class]="(hoverRating() || rating()) >= i ? 'text-yellow-400' : 'text-gray-300'" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
          </button>
        }
      </div>
      <textarea rows="4" placeholder="Tell others about the highlights, tips, or what to expect..." class="w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition"></textarea>
      <button class="w-full mt-4 bg-blue-600 text-white font-bold py-3.5 rounded-xl hover:bg-blue-700 transition-colors">
        Submit Review
      </button>
    </section>

    <section class="border-t border-gray-200 pt-8">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-bold text-gray-900">What Others Are Saying</h2>
        <button class="flex items-center space-x-2 text-sm font-medium text-gray-600 bg-gray-100 px-3 py-1.5 rounded-lg">
          <span>Most Recent</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4" /></svg>
        </button>
      </div>
      <div class="space-y-6">
        @for(review of reviews(); track review.name) {
          <div class="flex items-start space-x-4">
            <img [src]="review.avatar" alt="Reviewer avatar" class="w-10 h-10 rounded-full">
            <div class="flex-grow">
              <div class="flex justify-between items-baseline">
                <p class="font-bold text-gray-800">{{ review.name }}</p>
                <p class="text-xs text-gray-400">{{ review.time }}</p>
              </div>
              <div class="flex mt-1">
                @for(i of [1,2,3,4,5]; track i) {
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" [class]="review.rating >= i ? 'text-yellow-400' : 'text-gray-300'" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                }
              </div>
              <p class="mt-2 text-gray-600">{{ review.comment }}</p>
            </div>
          </div>
        }
      </div>
    </section>
  </div>
</div>